<header>
</header>
<main>
  <div class="container">
    <a href="/"><h1 class="title">Doubleblind.Science</h1></a>
    <app-card>
      <div class="project-list">
        <h2>Your Sites</h2>
        <table>
          <thead>
          <tr>
            <th>Repo</th>
            <th>Subdomain</th>
            <th>Branch</th>
            <th></th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let project of (projects | async )">
            <form *ngIf="!project.deployed; else deployedView" class="create-project-input" [formGroup]="form">
              <td><b><a href="https://github.com/{{project.full_name}}">{{project.full_name}}</a></b></td>
              <td>
                  <feel-text-field formControlName="name"></feel-text-field>
              </td>
              <td>
                  <feel-text-field formControlName="branch"></feel-text-field>
              </td>
              <td>
                  <feel-button (click)="validate_input_and_submit(project.id)">Deploy!</feel-button>
              </td>
            <!--<td><feel-button flavor="danger"> <app-icon-trash></app-icon-trash></feel-button></td>-->
            </form>
            <ng-template #deployedView>
              <td><b><a href="https://github.com/{{project.full_name}}">{{project.full_name}}</a></b></td>
              <td><b>{{project.domain}}</b></td>
              <td><b>{{project.branch}}</b></td>
              <td>
                <feel-button (click)="visit_website(project.name)"><app-icon-eye></app-icon-eye></feel-button>
              </td>
            </ng-template>
          </tr>
          </tbody>
        </table>
      </div>
    </app-card>
  </div>
</main>
<footer></footer>
